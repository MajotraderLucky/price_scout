# API Endpoints - Результаты диагностики

> Дата: 2025-12-31

---

## E-katalog.ru

### Статус: НЕДОСТУПЕН

| Параметр            | Значение                                          |
|---------------------|---------------------------------------------------|
| IP адрес            | 83.222.5.34                                       |
| Ping                | 100% packet loss                                  |
| HTTP (80)           | Connection timeout                                |
| HTTPS (443)         | Connection timeout                                |
| Причина             | Блокировка серверных/облачных IP                  |

### Вывод

E-katalog.ru блокирует запросы с серверных IP-адресов. Для работы с этим источником потребуется:

1. **Локальный запуск** - парсер должен работать на домашнем ПК/ноутбуке
2. **Резидентные прокси** - использовать прокси с жилыми IP
3. **VPN** - подключение через VPN с российским IP
4. **Headless браузер** - Playwright/Puppeteer могут обходить некоторые блокировки

---

## Альтернативные источники (предварительная проверка)

| Источник          | HTTP Status | Доступность | Примечание                        |
|-------------------|-------------|-------------|-----------------------------------|
| ozon.ru           | 307         | Частично    | Редирект, требует cookies/JS      |
| wildberries.ru    | 498         | Блокируется | Кастомный код ошибки              |
| dns-shop.ru       | Не проверен | -           | -                                 |

---

## Рекомендации

### Краткосрочные (для тестирования)

1. Тестировать парсер **локально** на домашней машине
2. Использовать **Playwright** с реальным браузером
3. Добавить случайные задержки (2-5 сек между запросами)

### Долгосрочные (для production)

1. Исследовать **публичные API** маркетплейсов:
   - Ozon Seller API
   - Wildberries API
   - Yandex Market API

2. Рассмотреть **платные решения**:
   - Прокси-сервисы с резидентными IP
   - Готовые API агрегаторы цен

3. **Гибридная архитектура**:
   - Бот и API на сервере
   - Парсер на локальной машине (через очередь задач)

---

## Следующие шаги

- [ ] Протестировать e-katalog.ru локально (домашний ПК)
- [ ] Исследовать публичные API маркетплейсов
- [ ] Оценить стоимость прокси-сервисов
- [ ] Рассмотреть альтернативные агрегаторы (price.ru, sravni.com)

---

## Логи тестирования

### 2025-12-31 - Первичная диагностика

```
$ ping -c 3 e-katalog.ru
PING e-katalog.ru (83.222.5.34) 56(84) bytes of data.
--- e-katalog.ru ping statistics ---
3 packets transmitted, 0 received, 100% packet loss

$ curl -v --connect-timeout 10 "https://e-katalog.ru/"
* Trying 83.222.5.34:443...
* Failed to connect to e-katalog.ru port 443 after 10000 ms: Timeout was reached
curl: (28) Failed to connect to e-katalog.ru port 443 after 10000 ms: Timeout was reached
```

**Окружение:** Linux server, не-российский IP
